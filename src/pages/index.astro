---
import MetaHead from '@comps/MetaHead.astro';
import BlogHeader from '@comps/BlogHeader.astro';
import BlogFooter from '@comps/BlogFooter.astro';
import Styles from '@comps/Styles.astro';
import Image from '@comps/Image.astro';
import BlogPostPreview from '@comps/BlogPostPreview.astro';
import akramPic from '@assets/blog/akram.avif';
const DEV = await import.meta.env.DEV;

const title = 'FrenchTechLead - The Tech Leaders Community';
const author = 'FrenchTechLEad';
const description = 'FrenchTechLead is a blog about Software Engineering and Web Development, written by a team of Experienced Entrepreneurs.'
const keywords = ['Tech Blog', 'Software Engineering', 'Cloud Computing', 'OOP', 'Reactive Programming', 'Functional Programming', 'OSS', 'DevOps'];
const permalink = 'https://frenchtechlead.com/';
const postImageUrl = 'https://frenchtechlead.com/assets/blog/blog-cover.avif';



const techPosts = await Astro.glob('./posts/tech/*.md');
---

<html lang="en">
	
	<head>
		<MetaHead {title} {keywords} {description} {permalink} {postImageUrl} {author} />
		<Styles />
	</head>
	<BlogHeader/>
	
	<body>
		<main>
			<section id="landing">
				<Image w={300} h={300} src={akramPic} t="Akram's picture" />
				<h2 style="color: var(--color-white);">Hi there ðŸ‘‹ Glad to see you here.
</h2>
				<p>My name is Akram, and I'm the creator of FrenchTechLead.<br/>{description}</p>
			</section>

			
			<section id="latest-posts" aria-label="Blog post list">
			    <h2>Latest posts ðŸ”¥</h2>
				{techPosts.filter(p=> DEV || !p.frontmatter.draft ).reverse().map((p) => <BlogPostPreview post={p.frontmatter as any} url={p.url} />)}
			</section>
		</main>
		<BlogFooter/>
	</body>
</html>
