---
import { Author, getAuthorByID } from "@utils/author.utils";
import { isDevMode } from "@utils/utils";
import type { PostType } from "src/content/config";

const DEV = await isDevMode();

export interface Props {
  data: PostType;
  permalink: string;
  imgSrc: string;
}
const data = Astro.props.data;
const author: Author = getAuthorByID(data.authorID);
const permalink = Astro.props.permalink;
const imgSrc = Astro.props.imgSrc;

const disableAds = true;
---

<>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="language" content={data.lang} />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="canonical" href={permalink} />
  <title>{data.title}</title>
  <meta name="title" content={data.title} />
  <meta name="description" content={data.description} />
  <meta name="keywords" content={data.keywords.join(", ")} />
  <meta name="robots" content="index, follow" />
  <meta name="revisit-after" content="2 days" />
  <meta name="author" content={author.firstName + " " + author.lastName} />
  <meta property="og:type" content="website" />
  <meta property="og:url" content={permalink} />
  <meta property="og:title" content={data.title} />
  <meta property="og:description" content={data.description} />
  <meta property="og:image" content={imgSrc} />
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content={permalink} />
  <meta property="twitter:title" content={data.title} />
  <meta property="twitter:description" content={data.description} />
  <meta property="twitter:image" content={imgSrc} />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <script src="https://unpkg.com/@botpoison/browser" async></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"
  ></script>
  {
    !DEV && (
      <script
        defer
        data-domain="frenchtechlead.com"
        src="https://analytics.frenchtechlead.com/js/script.js"
      />
    )
  }
  {
    !DEV && !disableAds && (
      <script
        async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6800477127231548"
        crossorigin="anonymous"
      />
    )
  }
</>
